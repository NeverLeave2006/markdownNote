# 简介
1. 进程相关概念
并发
单道程序设计
多道程序设计
cpu/mmu
进程控制块
进程状态
2. 环境变量
常用的环境变量/作用
函数
3. 进程控制原语
fork函数
循环创建子进程的架构
exec函数
各个函数的参数使用方法/作用
wait/waitid
回收子进程的一般方式

# 进程相关的概念
## 程序和进程
程序，编译好的二进制文件，在磁盘上，不占用系统资源
进程，是一个抽象概念，与操作系统原理联系紧密。进程是活跃的程序，占用系统资源。在内存中执行(程序运行起来，产生一个进程)
并发
在操作系统中，一段时间内运行的多个程序

# CPU和MMU
CPU: 主要
多级存储: 硬盘->寄存器->cpu预取器—>译码->ALU->回写

## MMU: 内存管理单元，虚拟内存空间(4G)
映射虚拟地址，可用的地址空间可以有4G
CPU四种访问级别
用户空间4级 内核空间0级
.text
.rodate
.data
.bss 未初始化区域
heap
共享库
stack
环境变量/命令行参数
内核: 进程控制块(PCB, 进程描述符)
不同虚拟内存地址互相独立

## 进程控制块
本质是tast_struct结构体
查找原型
grep -r "task_struct" /usr/src
vim %定位大括号结束位置
结构体成员:
进程id
进程状态：初始化，就绪（等CPU），运行(得到cpu)，挂起(等资源)，停止
进程切换时需要保存或者切换的一些寄存器
描述虚拟地址空间的信息
描述控制终端的信息
当前工作目录
umask掩码：保存文件创建或者修改权限
文件描述符表，指向文件的指针
信号相关的信息
用户id和组id
会话和进程组
进程可以使用的资源上限()
    ulimit -a命令: 查看资源上限

## 环境变量简介
以用户为单位，配置环境变量
是指在操作系统在运行中指定操作系统运行信息的参数
特点: 字符串
      统一格式存储
      使用形式于命令行类似
      加载位置
      引入环境变量表须要声明环境变量 extern char** environ;

PATH: 可执行文件的搜索路径
SHELL: 当前shell
HOME: 当前家目录
LANG: 

查看环境变量
打印所有环境变量
```cpp
#include <stdio.h>

extern char** environ;
int main(){
    int i;
    for(i=0;environ[i];i++){
        printf("%s\n",environ[i]);
    }
    return 0;
}
```