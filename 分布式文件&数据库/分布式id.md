# 分布式id生成解决方案
分库分表不能使用自增id,无法保证重复

## UUID
- 优点
  - 简单，代码方便
  - 生产ID性能非常好，基本不会有性能问题
  - 全球唯一，在遇见数据迁移，系统数据合并，或者数据库变更等情况下，可以从容应对
- 缺点
  - 没有排序，无法保证趋势递增
  - UUID往往是使用字符串存储，查询的效率比较低
  - 存储空间比较大，如果是海量数据库，就需要考虑存储量问题
  - 传输数据量大
  - 不可读

## redis
Redis是单线程的，可以使用Redis来生产ID，性能较好使用原子操作INCR和INCRBY实现

- 优点
  - 不依赖于数据库，灵活方便，且性能优于数据库
  - 数字ID天然排序，对分页或者需要排序的结果很有帮助
- 缺点
  - 如果系统中没有Redis,还需要引入新的组件，增加系统复杂度
  - 需要编码和配置的工作量比较大
  - 网络传输造成性能下降


## snowflake雪花算法shi一个
Twiitter开源的分布式ID生成算法，结果是一个long型的ID. 核心思想是：使用41bit作为毫秒数，10bit作为机器ID(5个bit是数据中心，5个bit是机器id),12bit作为毫秒内的流水号(每个节点每毫秒产生4096个ID),最后一个符号位，永远是0


